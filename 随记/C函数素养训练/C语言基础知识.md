## C语言auto自动变量类型

函数中的局部变量，如果不专门声明为static存储类别，都是动态地分配存储空间，数据存储在动态存储区中。

函数中的形参和在函数中定义的变量（包括在复合语句中定义的变量）都属于此类，在调用该函数时系统会给他们分配存储空间，在函数调用结束时就会自动释放这些存储空间，这类局部变量称为自动变量。例如：

```c
int func(int a)
{
    auto int b,c=3;
}
```

ps：在上面这个程序中，a作为函数func()的形参，b、c作为自动变量，并对c赋初值3。当执行完func()函数后，自动释放a、b、c所占用的存储单元。

## static静态变量

有时候希望函数中的局部变量的值在函数调用结束后不消失而保留原值，这时候就可以指定局部变量为为静态局部变量，使用关键字static进行声明

**通过static类型声明后的变量，其变量的内存空间位于内存的全局静态区，仅会初始化一次。**

## register寄存器变量

为了提高效率，C语言允许将局部变量的值存放在CPU的寄存器中，这种变量叫做寄存器变量，使用关键字register声明，使用该关键字需要注意以下几点：

* 只有局部auto变量和形式参数可以作为寄存器变量
* 一个计算机系统中的寄存器数目有限，不能定义任意多个寄存器变量
* 不能使用取地址运算符“&”求寄存器变量的地址

使用示例：

```c
register int a = 0; //将变量a存储在寄存器上
```

> 需要注意的是，当我们使用register声明一个变量时，编译器很可能会根据情况，将register优化调！

## union共用体

我们知道结构体（struct）是一种构造类型或复杂类型，它可以包含多个不同类型的成员。在C语言中，还有另外一种和结构体非常类似的语法，叫做共用体(union)，定义格式为：

```c
union 共用体名
{
	成员列表
};
```

struct 和 union 的区别在于：

* struct 的各个成员会占用不同的内存，相互之间没有影响；而共用体所有成员占用同一段内存，修改一个成员会影响其余所有成员
* struct 占用的内存大于等于所有成员占用内存的总和（成员之间可能存在缝隙）；而union 占用的内存等于最长成员占用的内存
* union 使用了内存覆盖技术，同一时刻只能保存一个成员的值，如果对新的成员赋值，就会把原来成员的值覆盖掉

## C99和C11新增的关键字

* C99

| `_Bool` | `_Complex` | `_Imaginary` | `inline` | `restrict` |      |
| ------- | ---------- | ------------ | -------- | ---------- | ---- |

* C11

| `_Alignas`       | `_Alignof`      | `_Atomic` | `_Generic` | `_Noreturn` |
| ---------------- | --------------- | --------- | ---------- | ----------- |
| `_Static_assert` | `_Thread_local` |           |            |             |

## 常用数据类型占用的存储空间

| 数据类型      | 16位编译器 | 32位编译器 | 64位编译器 |
| :------------ | :--------- | :--------- | :--------- |
| char          | 1byte      | 1byte      | 1byte      |
| int           | 2byte      | 4byte      | 4byte      |
| float         | 4byte      | 4byte      | 4byte      |
| double        | 8byte      | 8byte      | 8byte      |
| short int     | 2byte      | 2byte      | 2byte      |
| unsigned int  | 2byte      | 4byte      | 4byte      |
| long          | 4byte      | 4byte      | 8byte      |
| unsigned long | 4byte      | 4byte      | 8byte      |
| long long     | 8byte      | 8byte      | 8byte      |

为了以后开发中能够方便查找，并正确的使用数据类型，下面是部分数据类型的取值范围：

- int：-2147483648～2147483647
- unsigned int：0～4294967295
- short：-32768～32767
- unsigned short：0～65535
- long： -2147483648～2147483647
- unsigned long：0～4294967295